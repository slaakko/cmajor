using System;
using System.Collections;

namespace Test.System.Collections.Set
{
    public unit_test void SetIntTest()
    {
        Set<int> s0;
        #assert(s0.IsEmpty());
        #assert(s0.Count() == 0);
        Set<int> t0(s0);
        #assert(t0.IsEmpty());
        #assert(t0.Count() == 0);
        #assert(s0 == t0);
        Swap(s0, t0);
        #assert(s0.IsEmpty());
        #assert(s0.Count() == 0);
        #assert(t0.IsEmpty());
        #assert(t0.Count() == 0);
        #assert(s0 == t0);

        Set<int> s1;
        s1.Insert(1);
        #assert(!s1.IsEmpty());
        #assert(s1.Count() == 1);
        Set<int> t1(s1);
        #assert(!t1.IsEmpty());
        #assert(t1.Count() == 1);
        #assert(s1 == t1);
        Swap(s1, t1);
        #assert(!s1.IsEmpty());
        #assert(s1.Count() == 1);
        #assert(!t1.IsEmpty());
        #assert(t1.Count() == 1);
        #assert(s1 == t1);
        Set<int>.Iterator i11 = s1.Find(0);
        #assert(i11 == s1.End());
        Set<int>.Iterator i12 = s1.Find(1);
        #assert(i12 != s1.End());
        Set<int>.Iterator i13 = s1.Find(2);
        #assert(i13 == s1.End());
        Pair<Set<int>.Iterator, bool> p1 = s1.Insert(1);
        #assert(!p1.second);
        s1.Remove(1);
        #assert(s1.IsEmpty());
        #assert(s1.Count() == 0);
        Set<int>.Iterator i14 = s1.Find(1);
        #assert(i14 == s1.End());

        Set<int> s2;
        s2.Insert(1);
        s2.Insert(2);
        #assert(!s2.IsEmpty());
        #assert(s2.Count() == 2);
        Set<int> t2(s2);
        #assert(!t2.IsEmpty());
        #assert(t2.Count() == 2);
        #assert(s2 == t2);
        Swap(s2, t2);
        #assert(!s2.IsEmpty());
        #assert(s2.Count() == 2);
        #assert(!t2.IsEmpty());
        #assert(t2.Count() == 2);
        #assert(s2 == t2);
        Set<int>.Iterator i21 = s2.Find(0);
        #assert(i21 == s2.End());
        Set<int>.Iterator i22 = s2.Find(1);
        #assert(i22 != s2.End());
        Set<int>.Iterator i23 = s2.Find(2);
        #assert(i23 != s2.End());
        Set<int>.Iterator i24 = s2.Find(3);
        #assert(i24 == s2.End());
        Pair<Set<int>.Iterator, bool> p2 = s2.Insert(2);
        #assert(!p2.second);
        s2.Remove(s2.Begin());
        #assert(!s2.IsEmpty());
        #assert(s2.Count() == 1);
        Set<int>.Iterator i25 = s2.Find(1);
        #assert(i25 == s2.End());
        s2.Remove(s2.Begin());
        Set<int>.Iterator i26 = s2.Find(2);
        #assert(i26 == s2.End());
        #assert(s2.IsEmpty());
        #assert(s2.Count() == 0);

        Set<int> s3;
        s3.Insert(1);
        s3.Insert(2);
        s3.Insert(3);
        #assert(!s3.IsEmpty());
        #assert(s3.Count() == 3);
        Set<int> t3(s3);
        #assert(!t3.IsEmpty());
        #assert(t3.Count() == 3);
        #assert(s3 == t3);
        Swap(s3, t3);
        #assert(!s3.IsEmpty());
        #assert(s3.Count() == 3);
        #assert(!t3.IsEmpty());
        #assert(t3.Count() == 3);
        #assert(s3 == t3);
        Set<int>.Iterator i31 = s3.Find(0);
        #assert(i31 == s3.End());
        Set<int>.Iterator i32 = s3.Find(1);
        #assert(i32 != s3.End());
        Set<int>.Iterator i33 = s3.Find(2);
        #assert(i33 != s3.End());
        Set<int>.Iterator i34 = s3.Find(3);
        #assert(i34 != s3.End());
        Set<int>.Iterator i35 = s3.Find(4);
        #assert(i35 == s3.End());
        Pair<Set<int>.Iterator, bool> p3 = s3.Insert(2);
        #assert(!p3.second);
        s3.Remove(s3.Begin());
        #assert(!s3.IsEmpty());
        #assert(s3.Count() == 2);
        Set<int>.Iterator i36 = s3.Find(1);
        #assert(i36 == s3.End());
        s3.Remove(3);
        Set<int>.Iterator i37 = s3.Find(3);
        #assert(i37 == s3.End());
        #assert(!s3.IsEmpty());
        #assert(s3.Count() == 1);
        s3.Remove(2);
        Set<int>.Iterator i38 = s3.Find(2);
        #assert(i38 == s3.End());
        #assert(s3.IsEmpty());
        #assert(s3.Count() == 0);

        List<int> l100;
        Set<int> s100;
        for (int i = 0; i < 100; ++i)
        {
            l100.Add(i);
            s100.Insert(i);
        }
        Sort(l100);
        #assert(Equal(l100.Begin(), l100.End(), s100.Begin(), s100.End()));
        Set<int> t100(s100);
        #assert(t100 == s100);
        Swap(s100, t100);
        #assert(t100 == s100);
    }

    public unit_test void SetStringTest()
    {
        Set<string> s0;
        #assert(s0.IsEmpty());
        #assert(s0.Count() == 0);
        Set<string> t0(s0);
        #assert(t0.IsEmpty());
        #assert(t0.Count() == 0);
        #assert(s0 == t0);
        Swap(s0, t0);
        #assert(s0.IsEmpty());
        #assert(s0.Count() == 0);
        #assert(t0.IsEmpty());
        #assert(t0.Count() == 0);
        #assert(s0 == t0);

        Set<string> s1;
        s1.Insert("1");
        #assert(!s1.IsEmpty());
        #assert(s1.Count() == 1);
        Set<string> t1(s1);
        #assert(!t1.IsEmpty());
        #assert(t1.Count() == 1);
        #assert(s1 == t1);
        Swap(s1, t1);
        #assert(!s1.IsEmpty());
        #assert(s1.Count() == 1);
        #assert(!t1.IsEmpty());
        #assert(t1.Count() == 1);
        #assert(s1 == t1);
        Set<string>.Iterator i11 = s1.Find("0");
        #assert(i11 == s1.End());
        Set<string>.Iterator i12 = s1.Find("1");
        #assert(i12 != s1.End());
        Set<string>.Iterator i13 = s1.Find("2");
        #assert(i13 == s1.End());
        Pair<Set<string>.Iterator, bool> p1 = s1.Insert("1");
        #assert(!p1.second);
        s1.Remove("1");
        #assert(s1.IsEmpty());
        #assert(s1.Count() == 0);
        Set<string>.Iterator i14 = s1.Find("1");
        #assert(i14 == s1.End());

        Set<string> s2;
        s2.Insert("1");
        s2.Insert("2");
        #assert(!s2.IsEmpty());
        #assert(s2.Count() == 2);
        Set<string> t2(s2);
        #assert(!t2.IsEmpty());
        #assert(t2.Count() == 2);
        #assert(s2 == t2);
        Swap(s2, t2);
        #assert(!s2.IsEmpty());
        #assert(s2.Count() == 2);
        #assert(!t2.IsEmpty());
        #assert(t2.Count() == 2);
        #assert(s2 == t2);
        Set<string>.Iterator i21 = s2.Find("0");
        #assert(i21 == s2.End());
        Set<string>.Iterator i22 = s2.Find("1");
        #assert(i22 != s2.End());
        Set<string>.Iterator i23 = s2.Find("2");
        #assert(i23 != s2.End());
        Set<string>.Iterator i24 = s2.Find("3");
        #assert(i24 == s2.End());
        Pair<Set<string>.Iterator, bool> p2 = s2.Insert("2");
        #assert(!p2.second);
        s2.Remove(s2.Begin());
        #assert(!s2.IsEmpty());
        #assert(s2.Count() == 1);
        Set<string>.Iterator i25 = s2.Find("1");
        #assert(i25 == s2.End());
        s2.Remove(s2.Begin());
        Set<string>.Iterator i26 = s2.Find("2");
        #assert(i26 == s2.End());
        #assert(s2.IsEmpty());
        #assert(s2.Count() == 0);

        Set<string> s3;
        s3.Insert("1");
        s3.Insert("2");
        s3.Insert("3");
        #assert(!s3.IsEmpty());
        #assert(s3.Count() == 3);
        Set<string> t3(s3);
        #assert(!t3.IsEmpty());
        #assert(t3.Count() == 3);
        #assert(s3 == t3);
        Swap(s3, t3);
        #assert(!s3.IsEmpty());
        #assert(s3.Count() == 3);
        #assert(!t3.IsEmpty());
        #assert(t3.Count() == 3);
        #assert(s3 == t3);
        Set<string>.Iterator i31 = s3.Find("0");
        #assert(i31 == s3.End());
        Set<string>.Iterator i32 = s3.Find("1");
        #assert(i32 != s3.End());
        Set<string>.Iterator i33 = s3.Find("2");
        #assert(i33 != s3.End());
        Set<string>.Iterator i34 = s3.Find("3");
        #assert(i34 != s3.End());
        Set<string>.Iterator i35 = s3.Find("4");
        #assert(i35 == s3.End());
        Pair<Set<string>.Iterator, bool> p3 = s3.Insert("2");
        #assert(!p3.second);
        s3.Remove(s3.Begin());
        #assert(!s3.IsEmpty());
        #assert(s3.Count() == 2);
        Set<string>.Iterator i36 = s3.Find("1");
        #assert(i36 == s3.End());
        s3.Remove("3");
        Set<string>.Iterator i37 = s3.Find("3");
        #assert(i37 == s3.End());
        #assert(!s3.IsEmpty());
        #assert(s3.Count() == 1);
        s3.Remove("2");
        Set<string>.Iterator i38 = s3.Find("2");
        #assert(i38 == s3.End());
        #assert(s3.IsEmpty());
        #assert(s3.Count() == 0);

        List<string> l100;
        Set<string> s100;
        for (int i = 0; i < 100; ++i)
        {
            l100.Add(ToString(i));
            s100.Insert(ToString(i));
        }
        Sort(l100);
        #assert(Equal(l100.Begin(), l100.End(), s100.Begin(), s100.End()));
        Set<string> t100(s100);
        #assert(t100 == s100);
        Swap(s100, t100);
        #assert(t100 == s100);
    }
}
